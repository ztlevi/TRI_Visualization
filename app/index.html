<!DOCTYPE html>
<html>

<head>
  <title>TRI demo</title>
  <meta name="viewport" content="initial-scale=1.0">
  <meta charset="utf-8">
  <link rel="stylesheet" href="./styles/main.css">
  <link rel="stylesheet" href="./styles/tri.css">
  <link rel="stylesheet" href="./styles/bootstrap.min.css">
</head>

<body>
  <!-- Navbar (sit on top) -->
  <div class="w3-top">
    <div class="w3-bar w3-white w3-wide w3-padding-8 w3-card-2">
      <a href="#home" class="w3-margin-left w3-bar-item w3-button">
                <b>TRI</b> Demo
            </a>
      <!-- Float links to the right. Hide them on small screens -->
      <div class="w3-right w3-hide-small">
        <a href="#projects" class="w3-bar-item w3-button">Projects</a>
        <a href="#about" class="w3-bar-item w3-button">About</a>
      </div>
    </div>
  </div>

  <!-- Header -->
  <header class="w3-display-container w3-content w3-wide" style="max-width:1500px;" id="home">
    <img class="w3-image" src="./imgs/tri_header.jpg" alt="Architecture" width="1500" height="800">
    <div class="w3-display-middle w3-margin-top w3-center">
      <h1 class="w3-xxlarge w3-text-white">
        <a id="startDemo" href="#projects" style="text-decoration:none" onclick="mainProcess.openVideoFromUser()">
                    <span class="w3-padding w3-black w3-opacity-min"><b>Open</b></span>
                    <span class="w3-hide-small w3-text-light-grey">Video</span>
                </a>
      </h1>
    </div>
  </header>

  <!-- Page content -->
  <div class="w3-content w3-padding" style="max-width:1564px">

    <!-- Project Section -->
    <div class="w3-container w3-padding-32" id="projects">
      <h3 class="w3-border-bottom w3-border-light-grey w3-padding-12">Projects</h3>
    </div>

    <!-- Video -->
    <div>
      <!-- The video will appear here -->
      <div class="row">

        <!-- Video Canvas -->
        <div class="col-md-6">
          <canvas id="video-canvas"></canvas>
          <video src="" id="video-player" style="margin-top:0px;width:100%;height:0px" controls>
                    </video>

          <!-- Video Canvas Control -->
          <div id="video-controller" style="margin:auto" class="text-center">
            <button class="w3-btn w3-section">|&lt;</button>
            <button class="w3-btn w3-section">&lt;&lt;</button>
            <button class="w3-btn w3-section">||</button>
            <button class="w3-btn w3-section">&gt;</button>
            <button class="w3-btn w3-section">&gt;&gt;</button>
            <button class="w3-btn w3-section">Framed</button>
          </div>
        </div>

        <!-- Google Map -->
        <div class="col-md-6">
          <div id="map" style="padding-top: 66.7%;height:100%"></div>
        </div>
      </div>

      <!-- Selection for segmentation -->
      <div class="row">
        <div class="col-md-5 text-center">
          <h4>Select Infrastructure Segment [s] <select id="infras_select" class="w3-select"></select>
          </h4>
        </div>
        <div class="col-md-2 text-center">
          <buuton id="clear_seg" class="w3-btn" style="margin-top:7px;margin-bottom:10px">Clear Segmentation</buuton>
        </div>
        <div class="col-md-5 text-center">
          <h4>Select Traffic Level Segment [s] <select id="traffic_level_select" class="w3-select"></select>
          </h4>
        </div>
      </div>

      <br>
      
      <!-- Other driving info here -->
      <div class="row">
        <div class="col-md-6">
          <div id="linechart_1" style="height:400px"></div>
        </div>
        <div class="col-md-6">
          <div id="linechart_2" style="height:400px"></div>
          <ul id="info2">
          </ul>
        </div>
      </div>
      <div class="row">
        <div class="col-md-12 text-center">
          <button id="toggleFixedInterval" class="w3-btn w3-section">Toggle Fixed Interval</button>
        </div>
      </div>
      <div class="row">
        <div class="col-md-6" id="chart1_checkboxes">
          <fieldset>
            <legend>Select signal displayed in chart1</legend>
            <div class="col-md-6">
              <div>
                <input type="checkbox" id="hr1" value="hr1" checked>
                <label for="hr1">hr</label>
              </div>
              <div>
                <input type="checkbox" id="hrv1" value="hrv1" checked>
                <label for="hrv1">hrv</label>
              </div>
              <div>
                <input type="checkbox" id="br1" value="br1" checked>
                <label for="br1">br</label>
              </div>
              <div>
                <input type="checkbox" id="posture1" value="posture1">
                <label for="posture1">posture</label>
              </div>
              <div>
                <input type="checkbox" id="activity1" value="activity1">
                <label for="activity1">activity</label>
              </div>
              <div>
                <input type="checkbox" id="peakaccel1" value="peakaccel1">
                <label for="peakaccel1">peakaccel</label>
              </div>
              <div>
                <input type="checkbox" id="gsr1" value="gsr1">
                <label for="gsr1">gsr</label>
              </div>
              <div>
                <input type="checkbox" id="scl1" value="scl1">
                <label for="scl1">scl</label>
              </div>
              <div>
                <input type="checkbox" id="scr1" value="scr1">
                <label for="scr1">scr</label>
              </div>
              <div>
                <input type="checkbox" id="driver_workload1" value="driver_workload1">
                <label for="driver_workload1">driver workload</label>
              </div>
              <div>
                <input type="checkbox" id="expert_workload1" value="expert_workload1">
                <label for="expert_workload1">expert workload</label>
              </div>
            </div>
            <div class="col-md-6">
              <div>
                <input type="checkbox" id="traffic_load1" value="traffic_load1">
                <label for="traffic_load1">traffic load</label>
              </div>
              <div>
                <input type="checkbox" id="event1" value="event1">
                <label for="event1">event</label>
              </div>
              <div>
                <input type="checkbox" id="time_s1" value="time_s1">
                <label for="time_s1">time [s]</label>
              </div>
              <div>
                <input type="checkbox" id="speed_mph1" value="speed_mph1">
                <label for="speed_mph1">speed [mph]</label>
              </div>
              <div>
                <input type="checkbox" id="GPS_long_degs1" value="GPS_long_degs1">
                <label for="GPS_long_degs1">GPS long [degs]</label>
              </div>
              <div>
                <input type="checkbox" id="GPS_lat_degs1" value="GPS_lat_degs1">
                <label for="GPS_lat_degs1">GPS lat [degs]</label>
              </div>
              <div>
                <input type="checkbox" id="GPS_heading_degs1" value="GPS_heading_degs1">
                <label for="GPS_heading_degs1">GPS heading [degs]</label>
              </div>
              <div>
                <input type="checkbox" id="long_accel_g1" value="long_accel_g1">
                <label for="long_accel_g1">long accel [g]</label>
              </div>
              <div>
                <input type="checkbox" id="lat_accel_g1" value="lat_accel_g1">
                <label for="lat_accel_g1">lat accel [g]</label>
              </div>
              <div>
                <input type="checkbox" id="vector_accel_g1" value="vector_accel_g1">
                <label for="vector_accel_g1">vector accel [g]</label>
              </div>
              <div>
                <input type="checkbox" id="vert_accel_g1" value="vert_accel_g1">
                <label for="vert_accel_g1">vert accel [g]</label>
              </div>
            </div>
          </fieldset>
        </div>
        <div class="col-md-6" id="chart2_checkboxes">
          <fieldset>
            <legend>Select signal displayed in chart2</legend>
            <div class="col-md-6">
              <div>
                <input type="checkbox" id="hr2" value="hr2">
                <label for="hr2">hr</label>
              </div>
              <div>
                <input type="checkbox" id="hrv2" value="hrv2">
                <label for="hrv2">hrv</label>
              </div>
              <div>
                <input type="checkbox" id="br2" value="br2">
                <label for="br2">br</label>
              </div>
              <div>
                <input type="checkbox" id="posture2" value="posture2">
                <label for="posture2">posture</label>
              </div>
              <div>
                <input type="checkbox" id="activity2" value="activity2">
                <label for="activity2">activity</label>
              </div>
              <div>
                <input type="checkbox" id="peakaccel2" value="peakaccel2">
                <label for="peakaccel2">peakaccel</label>
              </div>
              <div>
                <input type="checkbox" id="gsr2" value="gsr2">
                <label for="gsr2">gsr</label>
              </div>
              <div>
                <input type="checkbox" id="scl2" value="scl2">
                <label for="scl2">scl</label>
              </div>
              <div>
                <input type="checkbox" id="scr2" value="scr2">
                <label for="scr2">scr</label>
              </div>
              <div>
                <input type="checkbox" id="driver_workload2" value="driver_workload2">
                <label for="driver_workload2">driver workload</label>
              </div>
              <div>
                <input type="checkbox" id="expert_workload2" value="expert_workload2">
                <label for="expert_workload2">expert workload</label>
              </div>
            </div>
            <div class="col-md-6">
              <div>
                <input type="checkbox" id="traffic_load2" value="traffic_load2">
                <label for="traffic_load2">traffic load</label>
              </div>
              <div>
                <input type="checkbox" id="event2" value="event2">
                <label for="event2">event</label>
              </div>
              <div>
                <input type="checkbox" id="time_s2" value="time_s2">
                <label for="time_s2">time [s]</label>
              </div>
              <div>
                <input type="checkbox" id="speed_mph2" value="speed_mph2" checked>
                <label for="speed_mph2">speed [mph]</label>
              </div>
              <div>
                <input type="checkbox" id="GPS_long_degs2" value="GPS_long_degs2">
                <label for="GPS_long_degs2">GPS long [degs]</label>
              </div>
              <div>
                <input type="checkbox" id="GPS_lat_degs2" value="GPS_lat_degs2">
                <label for="GPS_lat_degs2">GPS lat [degs]</label>
              </div>
              <div>
                <input type="checkbox" id="GPS_heading_degs2" value="GPS_heading_degs2">
                <label for="GPS_heading_degs2">GPS heading [degs]</label>
              </div>
              <div>
                <input type="checkbox" id="long_accel_g2" value="long_accel_g2">
                <label for="long_accel_g2">long accel [g]</label>
              </div>
              <div>
                <input type="checkbox" id="lat_accel_g2" value="lat_accel_g2">
                <label for="lat_accel_g2">lat accel [g]</label>
              </div>
              <div>
                <input type="checkbox" id="vector_accel_g2" value="vector_accel_g2">
                <label for="vector_accel_g2">vector accel [g]</label>
              </div>
              <div>
                <input type="checkbox" id="vert_accel_g2" value="vert_accel_g2">
                <label for="vert_accel_g2">vert accel [g]</label>
              </div>
            </div>
          </fieldset>
        </div>
      </div>
      <div class="row">
        <div class="col-md-6" id="info1">
          <h3 class="rder-bottom w3-border-light-grey w3-padding-12">More Details</h3>
          <ul>
            <li><b>Video Path: </b><span id="videoPath"></span></li <li><b>Current Time: </b><span id="currentTime"></span></li>
            <!-- <li><b>Update Interval: </b><span id="updateInterval"></span></li> -->
            <li><b>Link_ID: </b><span id="link_ID"></span></li>
            <li><b>Latitude: </b><span id="lat"></span></li>
            <li><b>Longtitude: </b><span id="lng"></span></li>
            <li><b>Shape Points Array: </b>
              <div style="height:150px;overflow-y:scroll">
                <ol id="shape_points_array"></ol>
              </div>
            </li>
          </ul>
        </div>
      </div>
    </div>

    <!-- About Section -->
    <div class="w3-container w3-padding-32" id="about">
      <h3 class="rder-bottom w3-border-light-grey w3-padding-12">About</h3>
      <p>This demo is created by Ting Zhou, Yuan Ma in UM ISL Intelligent Lab. If you have any issue, contact me at <a href="mailto:ztlevi1993@gmail.com?Subject=TRI%20Demo%20Issue">ztlevi1993@gmail.com</a>.</p>
    </div>

    <!-- End page content -->
  </div>

  <!-- Footer -->
  <footer>
    <p style="text-align:center">
      &copy; 2017 Toyota Research Institute & UM - Dearborn ISL</p>
  </footer>
  <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
  <script>
    var $ = require('jquery')
    require('./renderer')
    require('./src/triMap')

    // initialize canvas size
    let map_width = $("#map").width()
    $("#video-canvas").attr("width", map_width)
    $("#video-canvas").attr("height", map_width * 0.667)
  </script>
  <script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCKewL3hAp5w0t6sSNgUuEZr4WXGF_CdgE ">
  </script>
</body>

</html>
